<div class="h-full user-select-none">
  <div cdkDropList (cdkDropListDropped)="dropFile($event)" class="basic-font file-list">
    @for (file of store.filesSignal(); track file; let index = $index) {
      @if (file.isVisible) {

        <!--- TODO: Find out why file-item has to be here?! --->
        <div class="file-item flex">
          <div
            cdkDrag
            [ngClass]="{
            'highlight-purple-bg-color-gradient': file.isSelected,
            'header-bg-color': !file.isSelected,
          }"
            class="file-entry w-full"
          >
            <div
              class="file-custom-placeholder router-bg-color material-box-shadow-inset"
              *cdkDragPlaceholder
            ></div>
            <div class="flex items-center w-full h-full">
              <div
                class="flex justify-end index-column pl-2 pr-3"
                [ngClass]="{ highlighted: file.index !== index }"
              >
                {{ file.index + 1 }}.
              </div>
              <div
                class="flex cursor-grab h-full justify-center items-center pr-3"
              >
                <i cdkDragHandle class="material-icons font-size-medium">drag_indicator</i>
              </div>
              <div class="flex items-center pr-3 index-column">
                @if (file.name !== file.changedName) {
                  <i class="material-icons font-size-medium">settings</i>
                }
              </div>
              <div
                (mousedown)="onMouseDown($event, file)"
                (mouseenter)="onMouseEnterFile(file)"
                (click)="onFileClick($event, file, index)"
                class="flex items-center w-full h-full"
              >
                <div>
                  <div class="long-word-break" [innerHTML]="file.displayName"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      }
    }
  </div>
</div>
