<div class="h-full user-select-none">
  <div cdkDropList (cdkDropListDropped)="dropFile($event)"
       class="file-list">
    @for (entry of store.filesSignal(); track entry; let index = $index) {
      @if (entry.isVisible) {
        <div class="flex">

          <div
            cdkDrag
            [ngClass]="{'file-selected-bg': entry.isSelected}"
            class="list-element-basics list-element-bg flex items-center w-full"
          >
            <div
              class="file-custom-placeholder router-bg-color material-box-shadow-inset"
              *cdkDragPlaceholder
            ></div>
            <div class="flex items-center w-full h-full">
              <div
                (mousedown)="onMouseDown($event, entry)"
                (mouseenter)="onMouseEnterFile(entry)"
                (click)="onFileClick($event, entry, index)"
                class="flex justify-end pl-2 pr-3 tailwind-font-color-light">
                @if (entry.isSelected) {
                  <i class="material-symbols-outlined">check_box</i>
                } @else {
                  <i class="material-symbols-outlined">check_box_outline_blank</i>
                }
              </div>
              <div class="pl-2 pr-2 w-10 tailwind-font-color-light">
                {{ entry.index + 1 }}.
              </div>
              <div
                cdkDragHandle
                class="cursor-grab pl-2 pr-2 w-10 tailwind-font-color-light">
                <i class="material-symbols-outlined">drag_indicator</i>
              </div>
              <div class="flex items-center w-8 pr-3">
                @if (entry.name !== entry.changedName) {
                  <i class="material-symbols-outlined !text-base">settings</i>
                }
              </div>
              <div
                (mousedown)="onMouseDown($event, entry)"
                (mouseenter)="onMouseEnterFile(entry)"
                (click)="onFileClick($event, entry, index)"
                class="flex items-center w-full h-full"
              >
                <div>
                  <div class="long-word-break" [innerHTML]="entry.displayName"></div>
                </div>
              </div>
            </div>
          </div>

        </div>
      }
    }
  </div>
</div>
